(this.webpackJsonpt3int=this.webpackJsonpt3int||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),s=n(44),a=n.n(s),r=(n(53),n(54),n(13)),o=n(92),j=n(94),l=n(91),u=n(93),b=(n(25),n(3)),d=n.n(b),O=n(45),h=n(15),m=n(0),f=new d.a.icon({iconUrl:O.a,iconSize:[65,65]});var x=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),a=Object(r.a)(s,2),b=(a[0],a[1]),d=Object(c.useState)({}),O=Object(r.a)(d,2),x=O[0],v=O[1];return Object(c.useEffect)((function(){var e=Object(h.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"});return e.emit("FLIGHTS"),e.on("FLIGHTS",(function(e){var t={};Object.keys(e).map((function(n){t[e[n].code]=[e[n].origin,e[n].destination]})),i(t)})),e.on("POSITION",(function(e){var t=x;t[e.code]=e.position;b([]),v(t)})),function(){return e.disconnect()}}),[]),Object(m.jsxs)(o.a,{center:["-32.829","-70.6727"],zoom:4,children:[Object(m.jsx)(j.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object.keys(x).map((function(e){return Object(m.jsx)(l.a,{position:x[e],icon:f},e)})),Object.keys(n).map((function(e,t){return Object(m.jsx)(u.a,{positions:[n[e][0],n[e][1]],color:"#00008b"},t)}))]})},v=n(48);var p=function(){var e=Object(h.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"}),t=Object(c.useState)([]),n=Object(r.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){return e.emit("CHAT"),e.on("CHAT",(function(e){var t=i,n=new Date(e.date).toString();n=n.slice(15,25),e.date=n,t.push(e),s((function(t){return[].concat(Object(v.a)(t),[e])})),document.getElementById("soyscroll").scrollTo(1e5,1e5),console.log(i)})),function(){return e.disconnect()}}),[]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"scroll",id:"soyscroll",children:[Object(m.jsx)("h1",{children:"\xa1Hola! Chatea aqui:"}),Object.keys(i).map((function(e){return Object(m.jsxs)("div",{className:"container dark",children:[Object(m.jsx)("b",{children:i[e].name}),Object(m.jsx)("p",{children:i[e].message}),Object(m.jsx)("span",{className:"time-right",children:i[e].date})]})}))]}),Object(m.jsx)("b",{children:"Nickname:"}),Object(m.jsx)("input",{classname:"nick",type:"text",id:"nickname"}),Object(m.jsxs)("div",{className:"envio",children:[Object(m.jsx)("b",{children:"Mensaje:    "}),Object(m.jsx)("input",{type:"text",id:"mensaje_envio"}),Object(m.jsx)("button",{onClick:function(){return function(){var t={};t.name=document.getElementById("nickname").value,t.message=document.getElementById("mensaje_envio").value,e.emit("CHAT",t)}()},children:"Enviar"})]})]})};var g=function(e){var t=e.lista;return Object(m.jsx)("div",{children:Object.keys(t).map((function(e){return Object(m.jsxs)("li",{children:["Pasajero ",e,": ",t[e].name]})}))})};var k=function(){var e=Object(h.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"}),t=Object(c.useState)([]),n=Object(r.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){return e.emit("FLIGHTS"),e.on("FLIGHTS",(function(e){s(e),console.log(i)})),function(){return e.disconnect()}}),[]),Object(m.jsx)("div",{className:"scroll-info",children:Object.keys(i).map((function(e){return Object(m.jsxs)("div",{className:"vuelo",children:[Object(m.jsx)("h1",{className:"h1vuelos",children:i[e].code}),Object(m.jsxs)("li",{children:["Aerolinea: ",i[e].airline]}),Object(m.jsxs)("li",{children:["Coordenadas origen: ",i[e].origin[0],", ",i[e].origin[1]]}),Object(m.jsxs)("li",{children:["Coordenadas destino: ",i[e].destination[0],", ",i[e].destination[1]]}),Object(m.jsxs)("li",{children:["Avion: ",i[e].plane]}),Object(m.jsxs)("li",{children:["Asientos: ",i[e].seats]}),Object(m.jsx)(g,{lista:i[e].passengers})]})}))})};var y=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mapa",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"chat",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"informacion",children:Object(m.jsx)(k,{})})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root")),S()}},[[89,1,2]]]);
//# sourceMappingURL=main.0fac44d7.chunk.js.map